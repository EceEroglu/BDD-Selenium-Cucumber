package stepDefs;

import io.cucumber.java.en.And;
import io.cucumber.java.en.Given;
import io.cucumber.java.en.Then;
import io.cucumber.java.en.When;
import org.testng.Assert;
import pages.FavoritesPage;
import pages.MainPage;
import pages.LoginPage;
import pages.WishListPage;

public class StepDefinitions {

    LoginPage loginPage;
    MainPage mainPage;
    WishListPage wishListPage;
    FavoritesPage favoritesPage;


    public StepDefinitions() {

        loginPage = new LoginPage(Hooks.driver);
        mainPage = new MainPage(Hooks.driver);
        wishListPage = new WishListPage(Hooks.driver);
        favoritesPage = new FavoritesPage(Hooks.driver);

    }

    @Given("I am on MainPage$")
    public void given_i_am_on_mainpage() throws Throwable {

        mainPage.navigateTo_Page(MainPage.url);
        mainPage.skipPopup();
        mainPage.validateTitle();

    }

    @When("I click on Login$")
    public void when_i_click_on_login() throws Throwable {

        mainPage.clickLogin();

    }


    @And("I enter email$")
    public void and_i_enter_email() throws Throwable {

        loginPage.enter_Email();

    }

    @And("I enter password")
    public void and_i_enter_password() throws Throwable {

        loginPage.enter_Password();
    }

    @And("I click on login button$")
    public void and_i_click_on_login_button() throws Throwable {

        loginPage.click_On_LogIn_Button();

    }

    @When("I search samsung from search bar$")
    public void when_i_search_samsung_from_search_bar() throws Throwable {

        mainPage.searchText();

    }

    @Then("I am on samsung category$")
    public void then_i_am_on_samsung_category() throws Throwable {

     String actualText = mainPage.getResultText();
     Assert.assertTrue(actualText.contains("Samsung"));

    }

    @And("I navigate to second page$")
    public void and_i_navigate_to_second_page() throws Throwable {

        String actualText = mainPage.navigateToSecondPage();
        Assert.assertTrue(actualText.equals("https://www.n11.com/arama?q=samsung&pg=2"));
    }

    @And("I add third product to favorites$")
    public void and_i_add_third_product_to_favorites() throws Throwable {

         mainPage.addThirdProductToFav();

    }

    @And("I go to favorites list$")
    public void and_i_go_to_favorites_list() throws Throwable {

        mainPage.goToFavorites();

    }

    @Then("I verify product is added to favorites$")
    public void then_i_verify_product_is_added_to_favorites() throws Throwable {

       Assert.assertTrue(wishListPage.isFavProductDisplayed());

    }

    @And("I delete product$")
    public void and_i_delete_product() throws Throwable {

        favoritesPage.deleteProduct();
        favoritesPage.skipPopUp();
    }

    @Then("I verify product is deleted$")
    public void then_i_verify_product_is_deleted() throws Throwable {

        Assert.assertTrue(favoritesPage.emptyWishListTextisDisplayed());

    }

}




























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































